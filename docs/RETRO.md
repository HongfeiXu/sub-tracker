# 阶段回顾

## Phase 1 — 2026-02-26

- Vite 脚手架在非空目录下会取消操作，需要先在临时目录创建再复制过来
- Tailwind v4 的 `@custom-variant dark` 配置顺利，暗色模式手动 class 切换无问题
- 单文件方案下 TypeScript 的 `noUnusedLocals` 会报后续阶段才用到的常量，通过 export 解决
- Phase 1 整体顺利，无遗留问题

## Phase 2 — 2026-02-27

- 品牌色匹配逻辑做了但展示没跟上——色板里看不到匹配结果，实现功能时需要同时想清楚用户怎么感知到它
- 浮层叠加时注意 z-index 层级关系，FAB 和抽屉重叠是典型的固定定位元素冲突，后续加更多浮层时也要留意
- 单文件 ~850 行目前还可控，Phase 3 加完仪表盘后会增长不少，到 Phase 4 可能需要评估是否拆分

## Phase 3 — 2026-02-27

- 很多测试可以由 Claude 自动完成（tsc 类型检查、vitest 纯函数、Playwright 浏览器级验证），前提是 plan 中明确分配好测试任务——哪些是自动化可覆盖的，哪些需要人工介入（如视觉审查、动画流畅度、主观体验）
- 建立了三层测试闭环（tsc → vitest → Playwright），后续阶段 plan 中应按需标注每项改动对应的测试层级
